{
    "name": "@jk-com/adblock-compiler",
    "version": "0.12.0",
    "exports": "./src/index.ts",
    "publish": {
        "include": [
            "src/**/*.ts",
            "README.md",
            "LICENSE"
        ],
        "exclude": [
            "src/**/*.test.ts",
            "**/*.deno.ts"
        ]
    },
    "tasks": {
        "dev": "deno run -A --watch --allow-read --allow-write --allow-net src/cli.ts",
        "compile": "deno run --allow-read --allow-write --allow-net src/cli.ts",
        "build": "deno compile --allow-read --allow-write --allow-net --output=artifacts/adblock-compiler src/cli.ts",
        "test": "deno test --allow-read --allow-write --allow-net --allow-env",
        "test:watch": "deno test --allow-read --allow-write --allow-net --allow-env --watch",
        "test:coverage": "deno test --allow-read --allow-write --allow-net --allow-env --coverage=coverage",
        "test:e2e": "deno test --allow-net --allow-env worker/api.e2e.test.ts worker/websocket.e2e.test.ts",
        "test:e2e:api": "deno test --allow-net --allow-env worker/api.e2e.test.ts",
        "test:e2e:ws": "deno test --allow-net --allow-env worker/websocket.e2e.test.ts",
        "bench": "deno bench --allow-read --allow-write --allow-net --allow-env",
        "bench:utils": "deno bench src/utils/*.bench.ts",
        "bench:transformations": "deno bench src/transformations/*.bench.ts",
        "bench:json": "deno bench --allow-read --allow-write --allow-net --allow-env --json",
        "lint": "deno lint",
        "fmt": "deno fmt",
        "fmt:check": "deno fmt --check",
        "check": "deno check src/index.ts",
        "cache": "deno cache src/index.ts",
        "openapi:validate": "deno run --allow-read --allow-net scripts/validate-openapi.ts",
        "openapi:docs": "deno run --allow-read --allow-write --allow-net scripts/generate-docs.ts",
        "test:contract": "SKIP_CONTRACT_TESTS=false deno test --allow-read --allow-write --allow-net --allow-env worker/openapi-contract.test.ts",
        "db:generate": "deno run -A --env=.envrc npm:prisma generate",
        "db:push": "deno run -A --env=.envrc npm:prisma db push",
        "db:migrate": "deno run -A --env=.envrc npm:prisma migrate dev",
        "db:studio": "deno run -A --env=.envrc npm:prisma studio",
        "wrangler": "deno run -A npm:wrangler",
        "wrangler:dev": "deno run -A npm:wrangler dev",
        "wrangler:deploy": "deno run -A npm:wrangler deploy",
        "wrangler:tail": "deno run -A npm:wrangler tail",
        "wrangler:tail:deploy": "deno run -A npm:wrangler deploy --config wrangler.tail.toml",
        "wrangler:tail:dev": "deno run -A npm:wrangler dev --config wrangler.tail.toml",
        "wrangler:tail:logs": "deno run -A npm:wrangler tail adblock-compiler-tail"
    },
    "imports": {
        "@/": "./src/",
        "@adguard/agtree": "npm:@adguard/agtree@^4.0.0",
        "wrangler": "npm:wrangler@^4.63.0",
        "@std/path": "jsr:@std/path@^1.1.4",
        "@std/fs": "jsr:@std/fs@^1.0.22",
        "@std/cli": "jsr:@std/cli@^1.0.17",
        "@std/assert": "jsr:@std/assert@^1.0.18",
        "@std/testing": "jsr:@std/testing@^1.0.17",
        "@std/async": "jsr:@std/async@^1.1.1",
        "@cloudflare/workers-types": "npm:@cloudflare/workers-types@^4.20260207.0",
        "cloudflare:workers": "./worker/cloudflare-workers-shim.ts",
        "@prisma/adapter-pg": "npm:@prisma/adapter-pg@^7.3.0",
        "@prisma/client": "npm:@prisma/client@^7.3.0",
        "prisma": "npm:prisma@^7.3.0"
    },
    "lint": {
        "rules": {
            "tags": [
                "recommended"
            ],
            "include": [
                "ban-untagged-todo"
            ],
            "exclude": [
                "no-explicit-any",
                "require-await",
                "no-console"
            ]
        },
        "exclude": [
            "dist/",
            "node_modules/",
            "coverage/",
            "public/",
            "src/storage/example.ts",
            "src/storage/prisma-example.ts",
            "examples/",
            "prisma/",
            "docs/",
            ".github/",
            ".yarn/",
            ".pnp.*",
            "*.lock",
            "*.lcov",
            "*.d.ts"
        ]
    },
    "fmt": {
        "useTabs": false,
        "lineWidth": 180,
        "indentWidth": 4,
        "semiColons": true,
        "singleQuote": true,
        "proseWrap": "preserve",
        "exclude": [
            "dist/",
            "node_modules/",
            "coverage/",
            "public/",
            "src/storage/example.ts",
            "src/storage/prisma-example.ts",
            "examples/",
            "prisma/",
            "docs/",
            ".github/",
            ".yarn/",
            ".pnp.*",
            "*.lock",
            "*.lcov",
            "*.d.ts",
            "BUGS_AND_FEATURES.md",
            "PRODUCTION_READINESS.md",
            "GITHUB_ISSUE_TEMPLATES.md"
        ]
    },
    "test": {
        "include": [
            "src/**/*_test.ts",
            "src/**/*.test.ts",
            "worker/**/*.test.ts"
        ],
        "exclude": [
            "src/**/*.bench.ts"
        ]
    },
    "bench": {
        "include": [
            "src/**/*.bench.ts"
        ]
    },
    "compilerOptions": {
        "lib": [
            "deno.window"
        ],
        "strict": true,
        "noImplicitAny": true,
        "strictNullChecks": true,
        "noUnusedLocals": true,
        "noUnusedParameters": true
    },
    "allowScripts": [
        "npm:@prisma/engines@7.3.0",
        "npm:core-js-pure@3.47.0",
        "npm:esbuild@0.27.0",
        "npm:fsevents@2.3.3",
        "npm:prisma@7.3.0",
        "npm:sharp@0.33.5",
        "npm:sharp@0.34.5",
        "npm:workerd@1.20251210.0",
        "npm:workerd@1.20260107.1",
        "npm:workerd@1.20260128.0"
    ]
}
